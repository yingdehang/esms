<!DOCTYPE html><html lang="en" xmlns:th="http://www.thymeleaf.org"><head><meta charset="utf-8" /><meta name="viewport"	content="width=device-width,minimum-scale=1,maximum-scale=1" /><meta name="apple-touch-fullscreen" content="yes" /><title>象本人气王排行榜</title><link rel="stylesheet" th:href="@{/layui/css/layui.css}" /><style type="text/css">body {	margin: 0;	padding: 0;	width: 100%;	height: 100%;	background-image: url('../img/renqidasai/mianbackgroundimg.png');	background-repeat: no-repeat;	background-size: 100% 100%;}.mainbox {	width: 96%;	max-width: 620px;	height: auto;	margin: 20px auto 10px auto;}.titletable {	width: 95%;	heigth: 110px;	text-align: center;	margin: 0 auto;}.tupian {	height: 60px;	line-height: 50px;}.biaotith {	height: 20px;	font-size: 14px;	font-family: 黑体;	color: #222222;}.gerenpaiming {	height: 30px;	font-size: 18px;	font-family: 黑体;	color: #31bdcb;}.datatablebox {	background-color: white;	width: 100%;	height: auto;}.datalist {	width: 100%;	text-align: right;	font-size: 20px;}.datalist tr {	heigth: 50px;	line-height: 50px;}#userphone {	float: left;	background-image: url('../img/renqidasai/shousuojin.png');	background-size: 18px 18px;	background-position: 12px 10px;	background-repeat: no-repeat;	padding-left: 40px;	width: 78%;	line-height: 1px;	height: 40px;	border: 1px solid #e9e9e9;	font-size: 18px;	border-radius: 10px;}#searchbtn {	float: right;	width: 22%;	height: 40px;	line-height: 1px;	font-size: 18px;	text-align: center;	background-color: #2fbed1;	border-radius: 10px;}#percentage {	display: none;	width: 100%;	height: 110px;	margin: 10px auto 10px auto;	background: white;}.layui-layer-btn-c .layui-layer-btn0 {	width: 228px;	height: 100%;	font-size: 16px;	background-color: red;}</style></head><body class="layui-box">	<div class="mainbox">		<div class="layui-row"			style="width: 90%; height: 60px; margin: 0 auto;">			<img th:src="@{/img/renqidasai/xiangbenrenqiwangdasai.png}"				width="100%" height="80%;" />		</div>		<div class="layui-row"			style="width: 100%; height: 35px; margin: 0 auto 11px auto; background-color: #fdda37; text-align: center; line-height: 35px; font-size: 16px;">			共有<span th:text="${count}" style="font-size: 21px;">0</span>人参加“象本人气王大赛”		</div>		<div			style="width: 100%; height: 30px; line-height: 30px; background-color: #fdda37; padding-top: 2px;">			<span				style="float: left; font-size: 18px; margin-left: 25px; font-family: 黑体;">人气排行榜</span>			<span				style="float: right; font-size: 18px; margin-right: 25px; font-family: 黑体;">象章数量</span>		</div>		<div class="datatablebox">			<table class="datalist">				<tr th:each="user,userindex:${list}">					<td width="18%"						style="font-family: 微软雅黑; color: #fe5a37; text-align: left; padding-left: 25px;">NO.<span						th:text="${user.pm}"></span></td>					<td width="15%" style="text-align: center;"><img						th:if="${user.pm}==1" th:src="@{/img/renqidasai/jinguan.png}"						width="30px" height="15px" /> <img th:if="${user.pm}==2"						th:src="@{/img/renqidasai/yinguan.png}" width="30px" height="15px" />						<img th:if="${user.pm}==3"						th:src="@{/img/renqidasai/tongguan.png}" width="30px"						height="15px" /></td>					<td width="20%"						style="color: #222222; font-family: 黑体; text-align: center;">						<span th:text="${user.username}"></span>					</td>					<td style="color: #31bdcb; padding-right: 25px;"><span						th:text="${user.shuliang}"></span>枚</td>				</tr>			</table>		</div>		<div			style="margin-top: 11px; width: 100%; height: 30px; line-height: 30px; background-color: #fdda37; padding-top: 2px; font-family: 黑体; font-size: 18px; color: #000000; text-align: center;">			查询个人排名</div>		<div class="searchbox"			style="width: 100%; height: 65px; background-color: white; padding-top: 23px;">			<div class="layui-form-item"				style="width: 90%; max-width: 320px; margin: 0 auto; background-color: #2fbed1; border-radius: 10px;">				<input id="userphone" type="text" class="layui-input"					placeholder="请输入个人帐号" />				<button id="searchbtn" class="layui-btn" data-method="search">查询</button>			</div>		</div>	</div>	<div id="percentage">		<table class="titletable">			<tr class="tupian">				<th><img src="/img/renqidasai/xiangzhangtuxiang.png"					width="40px" height="40px" /></th>				<th><img src="/img/renqidasai/onetwothree.png" width="40px"					height="40px" /></th>				<th><img src="/img/renqidasai/bilitupian.png" width="40px"					height="40px" /></th>			</tr>			<tr class="biaotith">				<th>个人象章数量</th>				<th>排行名次</th>				<th>击败人数比例</th>			</tr>			<tr class="gerenpaiming">				<td><span id="shuliang">0</span>枚</td>				<td><span id="paiming">0</span>名</td>				<td><span id="bili">0%</span></td>			</tr>		</table>	</div>	<script th:src="@{/layui/layui.js}"></script>	<script type="text/javascript">		layui.use('layer', function() {			var $ = layui.jquery, layer = layui.layer;			var phone = $("#userphone");			var active = {				search : function() {					if (phone.val() == '') {						layer.msg("请输入用户手机号");					} else {						var index = layer.load(2);						$.post("/activityclick/queryPersonalRanking", {							phone : phone.val()						}, function(d) {							if (d.code == 0) {								layer.msg("手机号不正确或该手机号未注册");								layer.close(index);							} else {								$('#shuliang').text(d.shuliang);								$('#paiming').text(d.pm);								$('#bili').text(d.bili);								layer.open({									type : 1,									title : false, //不显示标题栏									closeBtn : false,									area : '300px',									shade : 0.2,									skin : 'winning-class',									id : 'LAY_layuipro', //设定一个id，防止重复弹出									btn : '确定',									btnAlign : 'c',									moveType : 1, //拖拽模式，0或者1									content : $('#percentage'),									success : function(layero) {										layer.close(index);									}								});							}						});					}				}			}			$('.searchbox .layui-btn').on('click', function() {				var othis = $(this), method = othis.data('method');				active[method] ? active[method].call(this, othis) : '';			});		});	</script></body></html>